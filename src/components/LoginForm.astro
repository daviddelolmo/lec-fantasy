---
import { Notification } from 'accessible-astro-components'
import { Icon } from 'astro-icon'
const { showError } = Astro.props;
---

<form class="login-form space-content" method="post" action="/api/auth/login">
  
  {showError && (
    <Notification type="warning">
      <Icon pack="majesticons" name="emoji-sad-line" />
      <p class="size-12">Combinación errónea de correo y contraseña. Por favor, inténtelo de nuevo.</p>
    </Notification>
  )}

  <div class="login-form__controls">
    <label for="email">Correo</label>
    <input type="email" name="email" required />
  </div>

  <div class="login-form__controls">
    <label for="password">Contraseña</label>
    <input type="password" name="password" required />
  </div>

  <button class="button color-secondary behavior-full" type="submit">
    Iniciar sesión
  </button>

  <label class="checkbox" style="margin-top: 1rem;">
    <input type="checkbox" name="remember" />
    <span>Recuérdame</span>
  </label>

  <a href="/signup" style="color: hsl(194, 70%, 47%);">¿No tienes cuenta? Regístrate</a>
</form>

<style lang="scss" is:global>
  @use '../assets/scss/base/border' as *;
  @use '../assets/scss/base/space' as *;

  .login-form {
    label {
      display: block;
      margin-bottom: $space-8;
    }

    input {
      width: 100%;
      @include radius-small;
    }

    input {
      padding: $space-8;
      border: 2px solid var(--neutral-600);
    }

    .checkbox {
      display: flex;
      align-items: center;
      gap: $space-4;

      input {
        width: auto;
      }
    }
  }
</style>